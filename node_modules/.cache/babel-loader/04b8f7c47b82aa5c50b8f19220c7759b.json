{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Navbar from \"../components/Navbar\";\nimport Footer from \"../components/Footer\";\nimport Vue from \"vue\";\nimport axios from \"axios\";\nimport VueAxios from \"vue-axios\";\nVue.use(VueAxios, axios);\n\nvar numeral = require(\"numeral\");\n\nVue.filter(\"formatNumber\", function (value) {\n  return numeral(value).format(\"0,0\"); // displaying other groupings/separators is possible, look at the docs\n});\nexport default {\n  name: \"detail\",\n  components: {\n    Navbar: Navbar,\n    Footer: Footer\n  },\n  data: function data() {\n    return {\n      slides: [{\n        src: require(\"../assets/image-produk/oppo_a96.jpg\")\n      }, {\n        src: require(\"../assets/image-produk/samsung_galaxy_m53.jpg\")\n      }, {\n        src: require(\"../assets/icon/vivo.png\")\n      }],\n      desserts: [{\n        src: require(\"../assets/image-produk/oppo_a96.jpg\"),\n        nama: \"Frozen Yogurt\",\n        harga: \"Rp. 5.000.000\",\n        harga_real: 5000000,\n        jumlah: 1\n      }, {\n        src: require(\"../assets/image-produk/samsung_galaxy_m53.jpg\"),\n        nama: \"Ice cream sandwich\",\n        harga: \"Rp. 4.800.000\",\n        harga_real: 4800000,\n        jumlah: 2\n      }, {\n        src: require(\"../assets/icon/vivo.png\"),\n        nama: \"Eclair\",\n        harga: \"Rp. 8.000.000\",\n        harga_real: 8000000,\n        jumlah: 3\n      }],\n      listKeranjang: [],\n      subTotal: '',\n      listTotal: [],\n      totalHarga: []\n    };\n  },\n  mounted: function mounted() {\n    this.getProduk();\n    this.hapusIdKosong();\n    this.subTotalHarga();\n  },\n  methods: {\n    getProduk: function getProduk() {\n      var _this = this;\n\n      Vue.axios.get(\"http://localhost/galaxyphone/api/keranjang/list.php?id=\" + this.$route.params.no).then(function (response) {\n        _this.listKeranjang = response.data;\n        console.log(_this.listKeranjang);\n      });\n    },\n    hapusKeranjang: function hapusKeranjang(id_keranjang, id_pelanggan) {\n      Vue.axios.delete(\"http://localhost/galaxyphone/api/keranjang/delete.php?id=\" + id_keranjang).then(function () {// this.$router.push({ path: '/keranjang/'+id_pelanggan });\n        // axios\n        //   .get(\"http://localhost:3000/keranjangs\")\n        //   .then((response) => this.setKeranjangs(response.data))\n        //   .catch((error) => console.log(error));\n      });\n      location.reload();\n    },\n    subTotalHarga: function subTotalHarga() {\n      var _this2 = this;\n\n      Vue.axios.get(\"http://localhost/galaxyphone/api/keranjang_info/list.php?pelanggan_id=\" + this.$route.params.no).then(function (response) {\n        _this2.totalHarga = response.data[0];\n        _this2.subTotal = response.data; // console.log(this.totalHarga);\n      });\n    },\n    hapusIdKosong: function hapusIdKosong() {\n      Vue.axios.delete(\"http://localhost/galaxyphone/api/keranjang_info/delete.php?pelanggan_id=0\").then(function () {});\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACAA;;AACA;;AACAA;EACA,oCADA,CACA;AACA,CAFA;AAIA;EACAC,cADA;EAGAC;IACAC,cADA;IAEAC;EAFA,CAHA;EAOAC,IAPA,kBAOA;IACA;MACAC,SACA;QACAC;MADA,CADA,EAIA;QACAA;MADA,CAJA,EAOA;QACAA;MADA,CAPA,CADA;MAYAC,WACA;QACAD,mDADA;QAEAE,qBAFA;QAGAC,sBAHA;QAIAC,mBAJA;QAKAC;MALA,CADA,EAQA;QACAL,6DADA;QAEAE,0BAFA;QAGAC,sBAHA;QAIAC,mBAJA;QAKAC;MALA,CARA,EAeA;QACAL,uCADA;QAEAE,cAFA;QAGAC,sBAHA;QAIAC,mBAJA;QAKAC;MALA,CAfA,CAZA;MAmCAC,iBAnCA;MAoCAC,YApCA;MAqCAC,aArCA;MAsCAC;IAtCA;EAwCA,CAhDA;EAiDAC,OAjDA,qBAiDA;IACA;IACA;IACA;EACA,CArDA;EAsDAC;IACAC,SADA,uBACA;MAAA;;MACAnB,UACAoB,GADA,CAEA,4DACA,qBAHA,EAKAC,IALA,CAKA;QACA;QACAC;MACA,CARA;IASA,CAXA;IAYAC,cAZA,0BAYAC,YAZA,EAYAC,YAZA,EAYA;MACAzB,UACA0B,MADA,CAEA,0EAFA,EAGAL,IAHA,CAGA,aAEA;QACA;QACA;QACA;QACA;MACA,CAVA;MAWAM;IACA,CAzBA;IA0BAC,aA1BA,2BA0BA;MAAA;;MACA5B,UACAoB,GADA,CAEA,gGAFA,EAGAC,IAHA,CAGA;QACA;QACA,gCAFA,CAGA;MACA,CAPA;IAQA,CAnCA;IAoCAQ,aApCA,2BAoCA;MACA7B,UACA0B,MADA,CAEA,2EAFA,EAGAL,IAHA,CAGA,aACA,CAJA;IAKA;EA1CA;AAtDA","names":["Vue","name","components","Navbar","Footer","data","slides","src","desserts","nama","harga","harga_real","jumlah","listKeranjang","subTotal","listTotal","totalHarga","mounted","methods","getProduk","get","then","console","hapusKeranjang","id_keranjang","id_pelanggan","delete","location","subTotalHarga","hapusIdKosong"],"sourceRoot":"src/views","sources":["Keranjang.vue"],"sourcesContent":["<template>\r\n  <v-app>\r\n    <Navbar />\r\n    <div id=\"app\">\r\n      <v-app id=\"inspire\" class=\"mx-16 mt-10\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <p>Keranjang</p>\r\n            <!-- table -->\r\n            <v-card elevation=\"2\" rounded>\r\n              <template>\r\n                <v-simple-table>\r\n                  <template v-slot:default>\r\n                    <thead>\r\n                      <tr>\r\n                        <th class=\"text-left\">Image</th>\r\n                        <th class=\"text-left\">Nama</th>\r\n                        <th class=\"text-left\">Harga</th>\r\n                        <th class=\"text-left\">Jumlah</th>\r\n                        <th class=\"text-left\">Total Harga</th>\r\n                        <th class=\"text-left\">id</th>\r\n                        <th class=\"text-left\">Aksi</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"n in listKeranjang\" :key=\"n.id\">\r\n                        <td>\r\n                          <v-img\r\n                            :src=\"n.gambar_utama\"\r\n                            eager\r\n                            max-width=\"150\"\r\n                            max-height=\"150\"\r\n                            class=\"white--text align-end my-3\"\r\n                          />\r\n                        </td>\r\n                        <td>{{ n.nama }}</td>\r\n                        <td>Rp. {{ n.harga | formatNumber }}</td>\r\n                        <td>{{ n.jumlah }}</td>\r\n                        <td>Rp. {{ n.total_harga | formatNumber }}</td>\r\n                        <td>{{ n.id}}</td>\r\n                        <td>\r\n                          <v-btn small color=\"error\" dark class=\"my-3\" @click=\"hapusKeranjang(n.id, n.pelanggan_id)\">\r\n                            batal\r\n                          </v-btn>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </template>\r\n                </v-simple-table>\r\n                <v-card class=\"mt-16\" >\r\n                    <div class=\"row\">\r\n                        \r\n                        <div class=\"col-6 d-flex justify-end\">\r\n                             <p class=\"text-md-h4 mx-16\">Sub Total:</p>\r\n                        </div>\r\n                        <div class=\"col-6 text-md-h4 d-flex justify-center\">Rp. {{subTotal}}</div>\r\n                    </div>\r\n                    <div class=\"row d-flex justify-center\">\r\n                       <v-btn medium color=\"success\" dark class=\"my-3\">\r\n                            Check Out\r\n                       </v-btn>\r\n                    </div>\r\n                   \r\n                </v-card>\r\n              </template>\r\n            </v-card>\r\n          </div>\r\n        </div>\r\n      </v-app>\r\n    </div>\r\n    <Footer />\r\n  </v-app>\r\n</template>\r\n<script>\r\nimport Navbar from \"../components/Navbar\";\r\nimport Footer from \"../components/Footer\";\r\nimport Vue from \"vue\";\r\nimport axios from \"axios\";\r\nimport VueAxios from \"vue-axios\";\r\nVue.use(VueAxios, axios);\r\nvar numeral = require(\"numeral\");\r\nVue.filter(\"formatNumber\", function (value) {\r\n    return numeral(value).format(\"0,0\"); // displaying other groupings/separators is possible, look at the docs\r\n  });\r\n\r\nexport default {\r\n  name: \"detail\",\r\n\r\n  components: {\r\n    Navbar,\r\n    Footer,\r\n  },\r\n  data() {\r\n    return {\r\n      slides: [\r\n        {\r\n          src: require(\"../assets/image-produk/oppo_a96.jpg\"),\r\n        },\r\n        {\r\n          src: require(\"../assets/image-produk/samsung_galaxy_m53.jpg\"),\r\n        },\r\n        {\r\n          src: require(\"../assets/icon/vivo.png\"),\r\n        },\r\n      ],\r\n      desserts: [\r\n        {\r\n          src: require(\"../assets/image-produk/oppo_a96.jpg\"),\r\n          nama: \"Frozen Yogurt\",\r\n          harga: \"Rp. 5.000.000\",\r\n          harga_real: 5000000,\r\n          jumlah: 1,\r\n        },\r\n        {\r\n          src: require(\"../assets/image-produk/samsung_galaxy_m53.jpg\"),\r\n          nama: \"Ice cream sandwich\",\r\n          harga: \"Rp. 4.800.000\",\r\n          harga_real: 4800000,\r\n          jumlah: 2,\r\n        },\r\n        {\r\n          src: require(\"../assets/icon/vivo.png\"),\r\n          nama: \"Eclair\",\r\n          harga: \"Rp. 8.000.000\",\r\n          harga_real: 8000000,\r\n          jumlah: 3,\r\n        },\r\n      ],\r\n      listKeranjang: [],\r\n      subTotal: '',\r\n      listTotal:[],\r\n      totalHarga: []\r\n    };\r\n  },\r\n  mounted(){\r\n    this.getProduk();\r\n    this.hapusIdKosong();\r\n    this.subTotalHarga()\r\n  },\r\n  methods :{\r\n    getProduk() {\r\n      Vue.axios\r\n      .get(\r\n        \"http://localhost/galaxyphone/api/keranjang/list.php?id=\" +\r\n          this.$route.params.no\r\n      )\r\n      .then((response) => {\r\n        this.listKeranjang = response.data;\r\n        console.log(this.listKeranjang);\r\n      });\r\n    },\r\n    hapusKeranjang(id_keranjang, id_pelanggan){\r\n      Vue.axios\r\n      .delete(\r\n        \"http://localhost/galaxyphone/api/keranjang/delete.php?id=\"+id_keranjang)\r\n      .then(() => {\r\n        \r\n          // this.$router.push({ path: '/keranjang/'+id_pelanggan });\r\n          // axios\r\n          //   .get(\"http://localhost:3000/keranjangs\")\r\n          //   .then((response) => this.setKeranjangs(response.data))\r\n          //   .catch((error) => console.log(error));\r\n      });\r\n      location.reload();\r\n    },\r\n    subTotalHarga(){\r\n      Vue.axios\r\n      .get(\r\n        \"http://localhost/galaxyphone/api/keranjang_info/list.php?pelanggan_id=\"+this.$route.params.no)\r\n      .then((response) => {\r\n        this.totalHarga = response.data[0];\r\n        this.subTotal =  response.data\r\n        // console.log(this.totalHarga);\r\n      });\r\n    },\r\n    hapusIdKosong(){\r\n      Vue.axios\r\n      .delete(\r\n        \"http://localhost/galaxyphone/api/keranjang_info/delete.php?pelanggan_id=0\")\r\n      .then(() => {\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style></style>\r\n"]},"metadata":{},"sourceType":"module"}